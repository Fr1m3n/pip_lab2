<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>ЧЕКерочек</title>
</h:head>
<h:body style="background-color: gray">

    <canvas width="400px" height="400px" id="canvas">

        Canvas not supported.

    </canvas>

    <h:form id="form">
        <p:panel id="panel" header="Entry" style="margin-bottom: 10px">
            <p:messages id="messages"/>
            <h:message for="y" style="color: red"/>
            <h:panelGrid columns="2" cellpadding="5">
                <h:outputLabel for="x" value="X"/>
                <h:selectOneMenu id="x" value="#{entry.x}" required="true">
                    <f:selectItem itemValue="-5" itemLabel="-5"/>
                    <f:selectItem itemValue="-4" itemLabel="-4"/>
                    <f:selectItem itemValue="-3" itemLabel="-3"/>
                    <f:selectItem itemValue="-2" itemLabel="-2"/>
                    <f:selectItem itemValue="-1" itemLabel="-1"/>
                    <f:selectItem itemValue="0" itemLabel="0"/>
                    <f:selectItem itemValue="1" itemLabel="1"/>
                    <f:selectItem itemValue="2" itemLabel="2"/>
                    <f:selectItem itemValue="3" itemLabel="3"/>
                </h:selectOneMenu>
                <h:outputLabel for="y" value="Y"/>
                <h:inputText id="y" value="#{entry.y}" required="true">
                    <f:validateDoubleRange minimum="-3" maximum="3"/>
                </h:inputText>


                <h:outputLabel for="r" value="R"/>
                <p:spinner id="r" min="1" max="3" stepFactor="0.5" required="true" value="#{entry.r}"/>

                <p:commandButton id="checkButton" update="entries_table" label="Check value"
                                 icon="pi pi-chevron-circle-right" value="Check" action="#{entry.save}">
                    <p:ajax/>
                </p:commandButton>
            </h:panelGrid>
        </p:panel>
    </h:form>
    <p:dataTable id="entries_table" var="entry" value="#{entries.entries}">
        <p:column headerText="id">
            <h:outputText value="#{entry.id}"/>
        </p:column>
        <p:column headerText="x">
            <h:outputText value="#{entry.x}"/>
        </p:column>
        <p:column headerText="y">
            <h:outputText value="#{entry.y}"/>
        </p:column>
        <p:column headerText="r">
            <h:outputText value="#{entry.r}"/>
        </p:column>
        <p:column headerText="status">
            <h:outputText value="#{entry.status}"/>
        </p:column>
        <p:column headerText="time">
            <h:outputText value="#{entry.creationTime}"/>
        </p:column>
    </p:dataTable>
    <p:button outcome="main" icon="pi pi-home" style="margin-top: 5px" value="Back to main page"/>
    <h:outputScript library="js" name="canvas.js"/>
    <h:outputScript library="primefaces" name="jquery/jquery.js" target="head"/>
    <h:outputScript library="js" name="index.js" target="head"/>
    <h:outputStylesheet name="primeicons/primeicons.css" library="primefaces"/>
</h:body>
</html>